<app-header></app-header>
<app-hero-ini-ses></app-hero-ini-ses>
<div *ngIf="olvidarPassword === true">  
    <div class="bg-white rounded-xl shadow-xl container mx-auto w-1/3 py-5 mt-96 z-20">
        <h2 class="text-2xl font-bold text-center mb-6">Recupera tu contraseña</h2>
        <form [formGroup]="formPass" (ngSubmit)="onSubmitPass()" class="space-y-6 container mx-auto w-2/3">
            <!-- Email -->
            <div class="relative w-full ">
                <label class="block mb-2 font-medium">Dirección de correo</label>
                <div class="flex items-center content-center">
                    <input type="email" formControlName="email" placeholder="info@autosmiari.com" class="w-full p-[0.65rem] pl-10 rounded-lg opacity-80 text-sm border border-black/50"/>

                    <span class="absolute pl-3 opacity-50">
                        <app-mail-icon currentClass="size-[1.30rem]"></app-mail-icon>
                    </span>
                </div>
            </div>
        
            <div class="flex items-center justify-center">
                <button class="bg-transparent border-none opacity-50 text-base">
                    Te enviaremos un correo para que puedas modificar tu contraseña actual
                </button>
            </div>

            <!-- Botón -->
            <app-boton2 type="submit" class="mt-6 mx-auto">
                <app-key-icon></app-key-icon>
                Recuperar contraseña
            </app-boton2>
        </form>
    </div>
</div>

<section class="bg-white rounded-xl shadow-xl container mx-auto w-1/3 py-5 mt-96 z-20">
    <div class="relative flex justify-center bg-[#6d7991]/70 rounded-full p-3 mb-6 mx-5 gap-4 ">
        <button (click)="activeTab = 'iniciar-sesion'; irAIniciarSesion()" class="rounded-full p-2 w-1/2 border-none text-lg text-white font-semibold transition-all"
                [ngClass]="{
                    'bg-[#6d7991]': activeTab === 'iniciar-sesion',
                    'bg-transparent hover:scale-105 cursor-pointer transition-all duration-300': activeTab !== 'iniciar-sesion'
                }"
        >
            Iniciar sesión
        </button>

        <button (click)="activeTab = 'registro'; irARegistro()" class="rounded-full p-2 w-1/2 border-none text-lg text-white font-semibold transition-all"
                [ngClass]="{
                    'bg-[#6d7991]/100': activeTab === 'registro',
                    'bg-transparent hover:scale-105 cursor-pointer transition-all duration-300': activeTab !== 'registro'
                }"
        >
            Registrate
        </button>
    </div>
  
    <div *ngIf="activeTab === 'iniciar-sesion'">
        <form [formGroup]="formIni" (ngSubmit)="onSubmitIni()" class="space-y-6 container mx-auto w-2/3">
            <!-- Email -->
            <div class="relative w-full ">
                <label class="block mb-2 font-medium">Dirección de correo</label>
                <div class="flex items-center content-center">
                    <input formControlName="email" placeholder="info@autosmiari.com" class="w-full p-[0.65rem] pl-10 rounded-lg opacity-80 text-sm border border-black/50"/>
    
                    <span class="absolute pl-3 opacity-50">
                        <app-mail-icon currentClass="size-[1.30rem]"></app-mail-icon>
                    </span>
                </div>
            </div>
    
            <!-- Contraseña -->
            <div class="relative w-full ">
                <label class="block mb-2 font-medium">Contraseña</label>
                <div class="flex items-center content-center">
                    <input [type]="mostrarPassword ? 'text' : 'password'" formControlName="pass" placeholder="Contraseña" class="w-full p-[0.65rem] rounded-lg opacity-80 text-sm border border-black/50"/>
                    
                    <span class="absolute right-3 opacity-50 cursor-pointer" (click)="mostrarPassword = ! mostrarPassword">
                        <ng-container *ngIf="mostrarPassword; else ocultarPassword" class="bg-red-500">
                            <app-eye-open-icon></app-eye-open-icon>
                        </ng-container>

                        <ng-template #ocultarPassword>
                            <app-eye-close-icon></app-eye-close-icon>
                        </ng-template>
                    </span>
                </div>
            </div>

            <div class="h-[1.5px] bg-black rounded-full opacity-20"></div>

            <div class="flex items-center justify-center">
                <button class="bg-transparent border-none opacity-50 text-base cursor-pointer hover:scale-[1.03] transition-all duration-300" (click)="olvidarPassword = true">
                    Olvidaste tu contraseña
                </button>
            </div>
        
            <!-- Botón -->
            <app-boton2 type="submit" class="mt-6 mx-auto w-1/2">
                <app-user-icon></app-user-icon>
                Iniciar sesión 
            </app-boton2>
        </form>
    </div>
  
    <div *ngIf="activeTab === 'registro'">
        <form [formGroup]="formReg" (ngSubmit)="onSubmitReg()" class="space-y-6 container mx-auto w-2/3">
            <!-- Nombre -->
            <div class="relative w-full ">
                <label class="block mb-2 font-medium">Nombre completo</label>
                <div class="flex items-center content-center">
                    <input type="text" formControlName="name" placeholder="Jose Luis" class="w-full p-[0.65rem] pl-10 rounded-lg opacity-80 text-sm border border-black/50"/>
                    
                    <span class="absolute pl-3 opacity-50">
                        <app-person-icon></app-person-icon>
                    </span>
                </div>
            </div>
    
            <!-- Email -->
            <div class="relative w-full ">
                <label class="block mb-2 font-medium">Dirección de correo</label>
                <div class="flex items-center content-center">
                    <input type="email" formControlName="email" placeholder="info@autosmiari.com" class="w-full p-[0.65rem] pl-10 rounded-lg opacity-80 text-sm border border-black/50"/>
    
                    <span class="absolute pl-3 opacity-50">
                        <app-mail-icon currentClass="size-[1.30rem]"></app-mail-icon>
                    </span>
                </div>
            </div>

            <!-- Contraseña -->
            <div class="relative w-full ">
                <label class="block mb-2 font-medium">Contraseña</label>
                <div class="flex items-center content-center">
                    <input [type]="mostrarPassword ? 'text' : 'password'" formControlName="pass" placeholder="Contraseña" class="w-full p-[0.65rem] rounded-lg opacity-80 text-sm border border-black/50"/>
                    
                    <span class="absolute right-3 opacity-50 cursor-pointer" (click)="mostrarPassword = ! mostrarPassword">
                        <ng-container *ngIf="mostrarPassword; else ocultarPassword" class="bg-red-500">
                            <app-eye-open-icon></app-eye-open-icon>
                        </ng-container>

                        <ng-template #ocultarPassword>
                            <app-eye-close-icon></app-eye-close-icon>
                        </ng-template>
                    </span>
                </div>
            </div>
        
            <!-- Botón -->
            <app-boton2 type="submit" class="mt-6 mx-auto">
                <app-user-plus-icon></app-user-plus-icon>
                Registrate
            </app-boton2>
        </form>
    </div>
</section>