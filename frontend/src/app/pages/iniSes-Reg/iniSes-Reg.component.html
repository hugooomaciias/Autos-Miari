<app-header (cambiarIniciarSesion)="cambiarPestana('iniciar-sesion')" (cambiarRegistro)="cambiarPestana('registro')"></app-header>
<app-hero-ini-ses [activeTab]="activeTab"></app-hero-ini-ses>

<section class="container mx-auto px-4 mt-96 pt-20 md:pt-12">
    <div *ngIf="olvidarPassword === false; else olvidarContrasena" class="bg-white rounded-xl shadow-xl container mx-auto md:w-1/3 py-5 z-20">
        <div class="relative flex justify-center bg-[#6d7991]/70 rounded-full p-3 mb-6 mx-5 gap-4">
            <button (click)="activeTab = 'iniciar-sesion'; irAIniciarSesion()" class="rounded-full p-2 w-1/2 border-none text-lg text-white font-semibold transition-all"
                    [ngClass]="{
                        'bg-[#6d7991] transition-all duration-700': activeTab === 'iniciar-sesion',
                        'w-full': (activeTab === 'iniciar-sesion') && isMobile,
                        'bg-transparent hover:scale-105 cursor-pointer transition-all duration-300': activeTab !== 'iniciar-sesion',
                        'w-fit': (activeTab !== 'iniciar-sesion') && isMobile
                    }"
            >
                <div *ngIf="isMobile; else noMobileIni">
                    <div *ngIf="activeTab !== 'iniciar-sesion'; else mobileActivoIni">
                        <app-user-icon></app-user-icon>
                    </div>

                    <ng-template #mobileActivoIni>
                        Iniciar sesión
                    </ng-template>    
                </div>
                
                <ng-template #noMobileIni>
                    Iniciar sesión
                </ng-template>
            </button>
    
            <button (click)="activeTab = 'registro'; irARegistro()" class="rounded-full p-2 w-1/2 border-none text-lg text-white font-semibold transition-all"
                    [ngClass]="{
                        'bg-[#6d7991]/100 transition-all duration-700': activeTab === 'registro',
                        'w-full': (activeTab === 'registro') && isMobile,
                        'bg-transparent hover:scale-105 cursor-pointer transition-all duration-300': activeTab !== 'registro',
                        'w-fit': (activeTab !== 'registro') && isMobile
                    }"
            >
                <div *ngIf="isMobile; else noMobileReg">
                    <div *ngIf="activeTab !== 'registro'; else mobileActivoReg">
                        <app-user-plus-icon></app-user-plus-icon>
                    </div>

                    <ng-template #mobileActivoReg>
                        Registrate
                    </ng-template>
                </div>
                
                <ng-template #noMobileReg>
                    Registrate
                </ng-template>
            </button>
        </div>
      
        <div *ngIf="activeTab === 'iniciar-sesion'">
            <app-iniciar-sesion (irAolvidarPass)="olvidarPass()" (toggleTab)="cambiarTab($event)"></app-iniciar-sesion>
        </div>
      
        <div *ngIf="activeTab === 'registro'">
            <app-registro></app-registro>
        </div>
    </div>

    <ng-template #olvidarContrasena>
        <div class="bg-white rounded-xl shadow-xl container mx-auto md:w-1/3 py-5 z-20">
            <app-olvidar-password></app-olvidar-password>
        </div>
    </ng-template>
</section>