<div class="relative">
    <img class="w-full h-56 object-cover" [src]="vehicle.image" [alt]="vehicle.name"/>
    <button class="absolute top-4 right-4 bg-transparent border-none text-white cursor-pointer hover:scale-110 transition-transform duration-200"
            (click)="onToggleFavorite(vehicle.id)"
            [attr.aria-label]="favorites.includes(vehicle.id) ? 'Remove from favorites' : 'Add to favorites'"
    >
        <app-favorite-icon [active]="favorites.includes(vehicle.id)"></app-favorite-icon>
    </button>
    
    <span *ngIf="vehicle.isNew" class="absolute top-4 left-4 bg-[#6d7991] text-white font-semibold px-2 py-1 rounded-full text-xs">New</span>
</div>

<div class="p-6">
    <div class="mb-3 flex justify-between items-start">
        <h3 class="font-semibold text-lg">{{ vehicle.name }}</h3>
        <p class="font-bold text-lg">{{ vehicle.price }}</p>
    </div>

    <div class="flex items-center opacity-60 mb-4">
        <span class="text-base">{{ vehicle.year }}</span>
        <span class="mx-2">•</span>
        <span class="text-base">{{ vehicle.type }}</span>
    </div>

    <div class="grid grid-cols-2 gap-2 mb-5">
        <div class="text-base">
            <p class="opacity-60">Kilometraje</p>
            <p class="font-medium">{{ vehicle.mileage }}</p>
        </div>

        <div class="text-base">
            <p class="opacity-60">Transmisión</p>
            <p class="font-medium">{{ vehicle.transmission }}</p>
        </div>
    </div>

    <div class="flex items-center gap-3">
        <a routerLink="/comprar" class="boton-secundario w-full" (click)="scrollTop()">
            Comprar
        </a>
        <a routerLink="/alquilar" class="boton-terciario w-full" (click)="scrollTop()">
            Alquilar
        </a>
    </div>
</div>
